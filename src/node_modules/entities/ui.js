import {decorate, observable, action} from "mobx";
import {EmptyPromise} from 'services/helper';

export class DraggableItemEntity {
    @observable index = null;
    @observable drag = false;
    @action dragStart(index) {
        this.index = index;
        this.drag = true;
    }

    @action dragStop() {
        this.drag = false;
        let index = this.index;
        this.index = null;
        return index;
    }
}

export class ModalItemEntity {
    @observable visible = false;
    @observable type = null;
    @observable params = {};
    @observable successCallback = EmptyPromise;
    @observable cancelCallback = EmptyPromise;

    @action setParams(params){
        this.params = Object.assign(this.params, params);
    }

    @action setType(type) {
        this.type = type;
    }

    @action clearType() {
        this.type = null;
    }

    @action makeVisible() {
        this.visible = true;
    }

    @action makeInvisible() {
        this.visible = false;
    }

    @action toggleVisible() {
        this.visible = !this.visible;
    }

    @action setSuccessCallback(func) {
        this.successCallback = func;
    }

    @action setCancelCallback(func) {
        this.cancelCallback = func;
    }

}

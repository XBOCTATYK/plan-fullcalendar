import moment from 'moment';
import { getMonday } from 'services/helper';
import {decorate, observable, computed, action} from "mobx";

class DateEntity {
    date = getMonday(new Date(Date.now()));

    get dateFormatted() {
        return moment(this.date).format("DD.MM.YYYY");
    }

    setDate(date) {
        this.date = moment(date).format();
    }

    nextDay() {
        this.date = moment(this.date).add(1, 'days').format();
    }

    prevDay() {
        this.date = moment(this.date).subtract(1, 'days').format();
    }

    nextWeek() {
        this.date = moment(this.date).add(7, 'days').format();
    }

    prevWeek() {
        this.date = moment(this.date).subtract(7, 'days').format();
    }


    getInstance() {
        return this;
    }

}

decorate(DateEntity, {
    date: observable,
    dateFormatted: computed,
    setDate: action,
    nextDay: action,
    prevDay: action,
    nextWeek: action,
    prevWeek: action
});

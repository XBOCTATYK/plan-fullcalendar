import React, {Component} from 'react';
import PlanItem from "components/PlanItem/PlanItem";

import { observer } from 'mobx-react';

const Day = observer(class DayClass extends Component {

    showPlanItems = () => {
        const planItems = this.props.itemsArr.filter((item, index) => {
           return (this.props.items[item].zone === this.props.zone && this.props.items[item].date === this.props.date);
        });

        return planItems.map((item, index) => (
            <div key={item} className={'day__item'}>
                <PlanItem zone={this.props.zone} params={this.props.items[item]}/>
            </div>
        ));

    };

    render() {
        return (
            <div className={'day'}>
                <div className={`day__title ${this.props.active}`}/>
                <div className={'day__body'}>
                    {this.showPlanItems()}
                </div>
            </div>
        );
    }
});

export default Day;
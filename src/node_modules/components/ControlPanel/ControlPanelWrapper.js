import React from 'react';
import { observer } from "mobx-react";
import SelectUser from 'components/ControlPanel/SelectUser';
import ControlType from 'components/ControlPanel/ControlType';
import CounterDays from 'components/ControlPanel/CounterDays';
import Button from '@material-ui/core/Button';
import VerticalSplitIcon from '@material-ui/icons/Add';
import KeyboardBackspaceIcon from '@material-ui/icons/KeyboardBackspace';
import Grid from '@material-ui/core/Grid';
import './ControlPanel.css';

const ControlPanelWrapper = observer(({params}) =>
    (
            <Grid container className={'control-panel__wrapper'} spacing={1} justify="space-between">
                <Grid item xs={6}>
                    <Grid spacing={5} container>
                        <Grid item className={'control-panel__user-name'}>
                            <SelectUser value={params.user1} instance={'user1'} params={params}/>
                        </Grid>
                        <Grid item>
                            <Button variant="outlined" size="small" onClick={() => {params.toggleSplit();}}>
                                {
                                    !params.splitCalendar ?
                                    <VerticalSplitIcon/> :
                                    <KeyboardBackspaceIcon/>
                                }
                            </Button>
                        </Grid>
                        <Grid item>
                        {
                            params.splitCalendar &&
                            <div className={'control-panel__user-name'}>
                                <SelectUser value={params.user2} instance={'user2'} params={params}/>
                            </div>
                        }
                        </Grid>
                    </Grid>
                </Grid>
                <Grid item xs={3}>
                    <div className={'control-panel__type'}>
                        <ControlType value={+params.type} params={params}/>
                    </div>
                    <div className={'control-panel__days'}>
                        <CounterDays value={+params.days} params={params}/>
                    </div>
                </Grid>
            </Grid>
    ));

export default ControlPanelWrapper;

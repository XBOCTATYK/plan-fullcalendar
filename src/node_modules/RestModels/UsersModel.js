import $ from 'jquery';
import {siteOptions} from "config/app.config";

export default class UsersModel {
    static defaultOptions = {
        ...siteOptions
    };

    constructor(options) {
        this.options = {...UsersModel.defaultOptions, ...options}
    }

    getAll(themeName) {
        return new Promise( (resolve, reject) => {
            $.get('/mockRequests/users.json').done((result) => {
                resolve(result);
            })
                .fail((err) => {
                    reject(err);
                })
        })
    }

    findByName(string) {
        return new Promise( (resolve, reject) => {
            const optionsToSend = this.options;

            optionsToSend.MODE = 'SEARCH';
            optionsToSend.SEARCH_STRING = string;

            $.get('/mockRequests/oneUser.json', optionsToSend).done((result) => {
                resolve(result);
            })
                .fail((err) => {
                    reject(err);
                })
        });
    }

    getOne(id) {
        return new Promise((resolve, reject) => {
            const optionsToSend = this.options;

            optionsToSend.ID = id;

            $.get('/mockRequests/oneUser.json', optionsToSend).done((result) => {
                resolve(result);
            })
                .fail((err) => {
                    reject(err);
                })
        });
    }
}
